<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Košík — MarťasDesign</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">
<style>
:root {
  --primary: #ff6363;
  --dark: #111;
  --light: #fff;
  --gray: #222;
  --card-bg: #1c1c1c;
}
body { background: var(--dark); color: var(--light); font-family: 'Montserrat', sans-serif; padding:2rem; }
h1,h2 { color: var(--primary); text-align:center; margin-bottom:1rem; }
.cart-table { width:100%; border-collapse:collapse; margin-bottom:2rem; }
.cart-table th, .cart-table td { border:1px solid #444; padding:0.8rem; text-align:center; }
.cart-table th { background: #222; }
.cart-table td { background: #1c1c1c; }
.total { text-align:right; font-size:1.2rem; margin-bottom:2rem; }
form { max-width:500px; margin:0 auto; display:flex; flex-direction:column; gap:1rem; }
input, textarea { padding:0.8rem; border-radius:8px; border:none; }
button { background:var(--primary); color:#fff; padding:0.8rem 1.6rem; border-radius:30px; border:none; cursor:pointer; transition:0.3s; }
button:hover { transform:translateY(-3px); box-shadow:0 5px 15px rgba(255,99,99,0.4); }
</style>
</head>
<body>

<h1>Tvůj košík</h1>

<table class="cart-table" id="cart-table">
  <thead>
    <tr>
      <th>Produkt</th>
      <th>Cena (Kč)</th>
    </tr>
  </thead>
  <tbody>
    <!-- Produkty se vloží skriptem -->
  </tbody>
</table>

<div class="total" id="total-price">Celkem: 0 Kč</div>

<h2>Dokončit objednávku</h2>
<form id="order-form">
  <input type="text" id="name" placeholder="Jméno a příjmení" required>
  <input type="tel" id="phone" placeholder="Telefon" required>
  <input type="email" id="email" placeholder="Email" required>
  <textarea id="address" placeholder="Adresa" required></textarea>
  <button type="submit">Dokončit objednávku</button>
</form>

<script>
// Načtení produktů z localStorage
const cart = JSON.parse(localStorage.getItem('cart')) || [];
const tableBody = document.querySelector('#cart-table tbody');
let total = 0;

cart.forEach(item => {
  const tr = document.createElement('tr');
  tr.innerHTML = `<td>${item.name}</td><td>${item.price} Kč</td>`;
  tableBody.appendChild(tr);
  total += item.price;
});

document.getElementById('total-price').textContent = `Celkem: ${total} Kč`;

// Formulář objednávky
document.getElementById('order-form').addEventListener('submit', function(e){
  e.preventDefault();
  
  const name = document.getElementById('name').value;
  const phone = document.getElementById('phone').value;
  const email = document.getElementById('email').value;
  const address = document.getElementById('address').value;

  // Data pro email (zatím jen alert, implementace odeslání vyžaduje backend)
  let orderSummary = "Nová objednávka:\n\n";
  cart.forEach(item => { orderSummary += `${item.name} - ${item.price} Kč\n`; });
  orderSummary += `\nCelkem: ${total} Kč\n\n`;
  orderSummary += `Jméno: ${name}\nTelefon: ${phone}\nEmail: ${email}\nAdresa: ${address}`;

  alert(orderSummary);

  // Po odeslání vymazat košík
  localStorage.removeItem('cart');
  window.location.href = "index.html"; // návrat na hlavní stránku
});
</script>

</body>
</html>
